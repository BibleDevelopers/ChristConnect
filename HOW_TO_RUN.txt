# How to Run ChristConnect

## Setup Instructions

1. **Clone the repository:**
   ```bash
   git clone <your-repository-url>
   cd ChristConnect
   ```

2. **Install PHP dependencies using Composer:**
   ```bash
   composer install
   ```

3. **Create your environment file:**
   Copy the example environment file. You will need to configure your database credentials in this new file.
   ```bash
   cp .env.example .env
   ```

4. **Generate an application key:**
   ```bash
   php artisan key:generate
   ```

5. **Configure your database:**
   - Open the `.env` file in a text editor.
   - Update the `DB_DATABASE`, `DB_USERNAME`, and `DB_PASSWORD` options to match your local database configuration.

6. **Run database migrations:**
   This will create all the necessary tables in your database.
   ```bash
   php artisan migrate
   ```

7. **(Optional) Seed the database:**
   This will fill the database with initial data.
   ```bash
   php artisan db:seed
   ```

8. **Install JavaScript dependencies using NPM:**
   ```bash
   npm install
   ```

## Running the Application

You will need to have two terminal windows open simultaneously.

1. **Terminal 1: Start the Vite frontend development server:**
   This compiles and serves your frontend assets (CSS, JS).
   ```bash
   npm run dev
   ```

2. **Terminal 2: Start the PHP backend server:**
   This runs the main Laravel application.
   ```bash
   php artisan serve
   ```

3. **Access the website:**
   Open your web browser and navigate to the URL provided by `php artisan serve` (usually `http://127.0.0.1:8000`).



## Deploy (production) with Docker

Use the provided production compose file `docker-compose.prod.yml` to build images and run services (app, nginx, mysql). Do NOT commit production secrets â€” create a file named `.env.prod` on the server with production values (example keys below). Ensure `APP_KEY` and database credentials are set there.

Example `.env.prod` (DO NOT commit this file):

```
APP_ENV=production
APP_DEBUG=false
APP_KEY=base64:your_generated_app_key_here
DB_CONNECTION=mysql
DB_HOST=db
DB_PORT=3306
DB_DATABASE=christconnect
DB_USERNAME=christconnect
DB_PASSWORD=verysecurepassword
MYSQL_ROOT_PASSWORD=verysecurepassword
```

Deploy steps (on the server):

```bash
# Build and start services
docker-compose -f docker-compose.prod.yml build --pull --no-cache
docker-compose -f docker-compose.prod.yml up -d

# Run migrations (one-time)
docker-compose -f docker-compose.prod.yml exec app php artisan migrate --force

# Seed donations or other non-sensitive seeders
docker-compose -f docker-compose.prod.yml exec app php artisan db:seed --class=DonationSeeder --force
```

Notes:
- The production compose mounts the project directory into containers to keep things simple for deployment; ensure the repo on the server is up-to-date and contains built assets. If you prefer fully immutable images (no bind mounts), let me know and I will change the compose to bake files into the image.
- If using this compose on a public server, ensure the server's firewall allows only the necessary ports (80/443) and secure the DB.