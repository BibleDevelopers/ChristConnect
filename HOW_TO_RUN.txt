# How to Run ChristConnect (with Docker for Development)

This guide explains how to set up and run the ChristConnect project using Docker for a consistent local development environment.

## 1. Initial Setup

### Step 1: Create Environment File
The application requires an environment file (`.env`) for its configuration. You can create this by copying the provided template. This file is ignored by git and should not be committed.

```bash
copy .env.example .env
```
*(On Linux or macOS, use `cp .env.example .env`)*


### Step 2: Build and Run Containers
This command will build the necessary Docker images (for PHP, Nginx, etc.) and start all the services in the background.

```bash
docker-compose up -d --build
```

The services defined in `docker-compose.yml` (app, web, db) will now be running.

## 2. Application Configuration

### Step 3: Generate Application Key
Laravel requires a unique application key for securing session data and encryption. You can generate this inside the `app` container.

```bash
docker-compose exec app php artisan key:generate
```

### Step 4: Run Database Migrations and Seeding
This command will set up the database schema and populate it with initial data.

```bash
docker-compose exec app php artisan migrate --seed
```

---

**That's it!** The application is now running.

-   **Website:** [http://localhost:8000](http://localhost:8000)
-   **Database Port:** `3306` (you can connect using a client like DBeaver or TablePlus with user `root` and password `root`)

---

## Production Deployment with Docker

For production, use the provided `docker-compose.prod.yml` file. Do NOT commit production secrets. Create a file named `.env.prod` on the server with production values.

Example `.env.prod` (DO NOT commit this file):
```
APP_ENV=production
APP_DEBUG=false
APP_KEY=base64:your_generated_app_key_here
DB_CONNECTION=mysql
DB_HOST=db
DB_PORT=3306
DB_DATABASE=christconnect
DB_USERNAME=root
DB_PASSWORD=your_secure_root_password
```

### Production Deploy Steps:
```bash
# Build and start services
docker-compose -f docker-compose.prod.yml up -d --build

# Run migrations (only when needed)
docker-compose -f docker-compose.prod.yml exec app php artisan migrate --force
```